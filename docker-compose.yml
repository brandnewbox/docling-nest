version: '3.8'

services:
  docling-lambda:
    build: .
    ports:
      - "9000:8080"  # Lambda RIE exposes port 8080 internally
    environment:
      - LOG_LEVEL=INFO
    volumes:
      # Mount the handler for development
      - ./lambda_handler.py:/var/task/lambda_handler.py
    # Lambda RIE is included in the AWS Lambda base image
    # Invoke via: curl -XPOST "http://localhost:9000/2015-03-31/functions/function/invocations" -d '{"body": "{\"source_url\": \"https://arxiv.org/pdf/2408.09869\"}"}'
